//https://leetcode.com/problems/longest-string-chain/
struct Solution;

use std::collections::{HashMap,HashSet};

impl Solution {
    pub fn longest_str_chain(words: Vec<String>) -> i32 {
        let mut words = words;
        let word_map: HashSet<String> = words.iter().map(|word| word.clone()).collect();
        words.sort_by(|w1, w2| w2.len().cmp(&w1.len()));
        words.dedup();
        //let mut words: Vec<String> = words.into_iter().rev().collect();
        let mut stack: Vec<(String, i32)> = Vec::with_capacity(words.len());
        let mut ans = 0;
        let mut mc: HashMap<String, i32> = HashMap::with_capacity(words.len());
        while let Some(start_word) = words.pop() {
            stack.push((start_word.clone(), 1));
            while let Some((word, l)) = stack.pop() {
                if let Some(&lv) = mc.get(&word) {
                    ans = ans.max(l + lv - 1);
                    if let Some(&slv) = mc.get(&start_word) {
                        mc.insert(start_word.clone(), slv.max(l + lv - 1));
                    } else {
                        mc.insert(start_word.clone(), l + lv - 1);
                    }
                } else {
                    let word_bytes = word.as_bytes();
                    let mut match_count = 0;
                    for skip_idx in 0..word_bytes.len() {
                        let new_word = String::from_utf8([
                            &word_bytes[0..skip_idx],
                            &word_bytes[skip_idx + 1..word_bytes.len()],
                        ]
                        .concat()).unwrap();
                        if word_map.contains(&new_word){
                            stack.push((new_word, l+1));
                            match_count += 1;
                        }
                    }
                    if match_count == 0 {
                        ans = ans.max(l) ;
                        if let Some(&slv) = mc.get(&start_word) {
                            mc.insert(start_word.clone(), slv.max(l));
                        } else {
                            mc.insert(start_word.clone(), l);
                        }
                    }
                }
            }
        }
        ans
    }
}

fn main() {
    println!("Hello, world!");
}

#[cfg(test)]
mod tests {
    fn testcases() -> Vec<(Vec<String>, i32)> {
        vec![
            (
                vec![
                    "a".to_string(),
                    "b".to_string(),
                    "ba".to_string(),
                    "bca".to_string(),
                    "bda".to_string(),
                    "bdca".to_string(),
                ],
                4,
            ),
            (
                vec![
                    "xbc".to_string(),
                    "pcxbcf".to_string(),
                    "xb".to_string(),
                    "cxbc".to_string(),
                    "pcxbc".to_string(),
                ],
                5,
            ),
            (vec!["abcd".to_string(), "dbqca".to_string()], 1),
            (
                vec![
                    "klmnowx".to_string(),
                    "abcdefgiklmno".to_string(),
                    "fgij".to_string(),
                    "bcfghijklmno".to_string(),
                    "fgjpqrst".to_string(),
                    "uy".to_string(),
                    "abceklmnouvw".to_string(),
                    "pqrstuwy".to_string(),
                    "fghijlno".to_string(),
                    "mnouvwxy".to_string(),
                    "klmnopqt".to_string(),
                    "klmnopqrstuy".to_string(),
                    "aeuvw".to_string(),
                    "muvw".to_string(),
                    "abcdeklmnow".to_string(),
                    "fhijpqrst".to_string(),
                    "mpqrst".to_string(),
                    "klmnoprt".to_string(),
                    "fghijklno".to_string(),
                    "abcdelmo".to_string(),
                    "klnuvwxy".to_string(),
                    "klmnopst".to_string(),
                    "abcdeklmnov".to_string(),
                    "fghj".to_string(),
                    "luvwxy".to_string(),
                    "ghklmnopqrst".to_string(),
                    "pqrstwx".to_string(),
                    "abcdklmno".to_string(),
                    "cdefghij".to_string(),
                    "pqrs".to_string(),
                    "efghijklmno".to_string(),
                    "fghjklmno".to_string(),
                    "adeklmno".to_string(),
                    "rs".to_string(),
                    "kuvwxy".to_string(),
                    "ghij".to_string(),
                    "befghijklmno".to_string(),
                    "ln".to_string(),
                    "hijklmnopqrst".to_string(),
                    "ghpqrst".to_string(),
                    "fgiklmnopqrst".to_string(),
                    "pqrtuvwxy".to_string(),
                    "pqrsty".to_string(),
                    "jklmnopqrst".to_string(),
                    "lnouvwxy".to_string(),
                    "klmnoqsuvwxy".to_string(),
                    "abcdeghklmno".to_string(),
                    "fi".to_string(),
                    "fghijlnpqrst".to_string(),
                    "abdklmnouvw".to_string(),
                    "uwx".to_string(),
                    "abcdekln".to_string(),
                    "klmno".to_string(),
                    "abcdekn".to_string(),
                    "abcdemuvw".to_string(),
                    "pqs".to_string(),
                    "fghijpqt".to_string(),
                    "klmnopqrstuw".to_string(),
                    "n".to_string(),
                    "nopqrstuvwxy".to_string(),
                    "abcdefghj".to_string(),
                    "fghiklmnopqrst".to_string(),
                    "klmnorst".to_string(),
                    "abcdemnouvw".to_string(),
                    "fgh".to_string(),
                    "pqt".to_string(),
                    "abfghij".to_string(),
                    "o".to_string(),
                    "nouvw".to_string(),
                    "abcdklmnouvw".to_string(),
                    "abeklmno".to_string(),
                    "abcden".to_string(),
                    "klmnopqrstwxy".to_string(),
                    "q".to_string(),
                    "fghijklmnoprt".to_string(),
                    "klmnovx".to_string(),
                    "abceuvw".to_string(),
                    "klmnopsuvwxy".to_string(),
                    "hj".to_string(),
                    "abcdefgh".to_string(),
                    "fhjklmno".to_string(),
                    "klmnoquvwxy".to_string(),
                    "wxy".to_string(),
                    "klmnopqrstuvwy".to_string(),
                    "kln".to_string(),
                    "abcdegklmno".to_string(),
                    "mno".to_string(),
                    "gklmno".to_string(),
                    "klnouvw".to_string(),
                    "fghijklmnoqr".to_string(),
                    "fghijpqrst".to_string(),
                    "mnuvwxy".to_string(),
                    "ghipqrst".to_string(),
                    "klmnoqrtuvwxy".to_string(),
                    "acdfghij".to_string(),
                    "uwy".to_string(),
                    "fghjklmnopqrst".to_string(),
                    "mnpqrstuvwxy".to_string(),
                    "abcdeknouvw".to_string(),
                    "abcdefghijklmno".to_string(),
                    "klmnorsuvwxy".to_string(),
                    "abcdeh".to_string(),
                    "klmnost".to_string(),
                    "iklmnopqrst".to_string(),
                    "abcdegijklmno".to_string(),
                    "fghijklmopqrst".to_string(),
                    "fghijklmnors".to_string(),
                    "pqrstux".to_string(),
                    "abcdefghijlm".to_string(),
                    "abcdem".to_string(),
                    "klmn".to_string(),
                    "opqrst".to_string(),
                    "ghjklmnopqrst".to_string(),
                    "cdfghij".to_string(),
                    "kluvwxy".to_string(),
                    "ceklmno".to_string(),
                    "abcdeghijklmno".to_string(),
                    "lmo".to_string(),
                    "bklmno".to_string(),
                    "fghijs".to_string(),
                    "cdeklmnouvw".to_string(),
                    "abcdeknuvw".to_string(),
                    "cdklmnouvw".to_string(),
                    "abcdeklmnovw".to_string(),
                    "klmnopr".to_string(),
                    "fghijklmnopqrst".to_string(),
                    "klmnopqtuvwxy".to_string(),
                    "abcdefhijklmno".to_string(),
                    "abcdeuv".to_string(),
                    "abcdefhklmno".to_string(),
                    "x".to_string(),
                    "abcdeouvw".to_string(),
                    "fjklmno".to_string(),
                    "a".to_string(),
                    "klmnopqrstuv".to_string(),
                    "abdklmno".to_string(),
                    "fghijlm".to_string(),
                    "bcefghijklmno".to_string(),
                    "quvwxy".to_string(),
                    "fghi".to_string(),
                    "klmnopqrstuwx".to_string(),
                    "r".to_string(),
                    "klmnuvw".to_string(),
                    "kn".to_string(),
                    "abcdeklmn".to_string(),
                    "abcdeklmno".to_string(),
                    "ps".to_string(),
                    "klmnoqrt".to_string(),
                    "pstuvwxy".to_string(),
                    "klmnopqrsty".to_string(),
                    "lmn".to_string(),
                    "d".to_string(),
                    "abcdefghijmo".to_string(),
                    "fghijmnopqrst".to_string(),
                    "ghiklmno".to_string(),
                    "mouvwxy".to_string(),
                    "abcdeghj".to_string(),
                    "fghijklmnopr".to_string(),
                    "kmnouvwxy".to_string(),
                    "fghijklmnopqst".to_string(),
                    "klmnox".to_string(),
                    "nouvwxy".to_string(),
                    "adefghijklmno".to_string(),
                    "kmo".to_string(),
                    "klmnovy".to_string(),
                    "klmnopqrstuvwxy".to_string(),
                    "cde".to_string(),
                    "y".to_string(),
                    "klmnouy".to_string(),
                    "fgklmnopqrst".to_string(),
                    "nuvwxy".to_string(),
                    "kluvw".to_string(),
                    "abcdefghijkno".to_string(),
                    "abcdekl".to_string(),
                    "fghijno".to_string(),
                    "ceuvw".to_string(),
                    "abcdelo".to_string(),
                    "bcdklmno".to_string(),
                    "gij".to_string(),
                    "abcdeijklmno".to_string(),
                    "klmnopqrt".to_string(),
                    "abcdeklm".to_string(),
                    "pqruvwxy".to_string(),
                    "klnuvw".to_string(),
                    "fijklmno".to_string(),
                    "knpqrstuvwxy".to_string(),
                    "fghijklmnor".to_string(),
                    "ace".to_string(),
                    "abcdekluvw".to_string(),
                    "deklmnouvw".to_string(),
                    "lpqrstuvwxy".to_string(),
                    "abcdefhiklmno".to_string(),
                    "fijpqrst".to_string(),
                    "klmnopqrstvwy".to_string(),
                    "mn".to_string(),
                    "kmpqrst".to_string(),
                    "ipqrst".to_string(),
                    "fghijkmnpqrst".to_string(),
                    "uvxy".to_string(),
                    "bklmnouvw".to_string(),
                    "fghijkmnopqrst".to_string(),
                    "fghijklnopqrst".to_string(),
                    "kopqrstuvwxy".to_string(),
                    "pqrstuwxy".to_string(),
                    "abdeuvw".to_string(),
                    "acefghij".to_string(),
                    "jklmno".to_string(),
                    "k".to_string(),
                    "fghijqs".to_string(),
                    "abcdefghijno".to_string(),
                    "fghijklmnort".to_string(),
                    "adeuvw".to_string(),
                    "vwx".to_string(),
                    "gjklmno".to_string(),
                    "hi".to_string(),
                    "abcdefghijm".to_string(),
                    "nuvw".to_string(),
                    "fklmnopqrst".to_string(),
                    "abcdehklmno".to_string(),
                    "fghijklmnoqrt".to_string(),
                    "klmnoruvwxy".to_string(),
                    "abcdemnuvw".to_string(),
                    "klmnovw".to_string(),
                    "klmnopqrstvw".to_string(),
                    "klmnoqtuvwxy".to_string(),
                    "klmnoy".to_string(),
                    "wx".to_string(),
                    "ouvwxy".to_string(),
                    "lmopqrst".to_string(),
                    "fghjpqrst".to_string(),
                    "lnuvwxy".to_string(),
                    "vy".to_string(),
                    "abdfghijklmno".to_string(),
                    "kmnouvw".to_string(),
                    "uvy".to_string(),
                    "klmnoqst".to_string(),
                    "klmnort".to_string(),
                    "pqrstuxy".to_string(),
                    "qs".to_string(),
                    "lopqrstuvwxy".to_string(),
                    "mnouvw".to_string(),
                    "abdeklmno".to_string(),
                    "abcdelnouvw".to_string(),
                    "pruvwxy".to_string(),
                    "qrsuvwxy".to_string(),
                    "cklmno".to_string(),
                    "bc".to_string(),
                    "acdfghijklmno".to_string(),
                    "j".to_string(),
                    "fghijpqs".to_string(),
                    "fghijknopqrst".to_string(),
                    "fgijklmno".to_string(),
                    "fghijnopqrst".to_string(),
                    "mpqrstuvwxy".to_string(),
                    "knopqrst".to_string(),
                    "acdeuvw".to_string(),
                    "lnouvw".to_string(),
                    "fghijklmn".to_string(),
                    "klmnouvxy".to_string(),
                    "abcdefghiklmno".to_string(),
                    "abcdefghij".to_string(),
                    "hij".to_string(),
                    "abcdekuvw".to_string(),
                    "klmnopqs".to_string(),
                    "aklmnouvw".to_string(),
                    "acdefghijklmno".to_string(),
                    "cfghij".to_string(),
                    "fghijpqst".to_string(),
                    "cfghijklmno".to_string(),
                    "abcdefhi".to_string(),
                    "kmouvwxy".to_string(),
                    "pquvwxy".to_string(),
                    "pqrstuy".to_string(),
                    "pqrstuwx".to_string(),
                    "ce".to_string(),
                    "klmnopqrstv".to_string(),
                    "deklmno".to_string(),
                    "klmnouvw".to_string(),
                    "abcdeno".to_string(),
                    "fghijkmo".to_string(),
                    "knouvwxy".to_string(),
                    "fpqrst".to_string(),
                    "hklmno".to_string(),
                    "fghijkmopqrst".to_string(),
                    "abcdefghjklmno".to_string(),
                    "kmpqrstuvwxy".to_string(),
                    "dklmnouvw".to_string(),
                    "abcdefghijkmo".to_string(),
                    "abcdel".to_string(),
                    "giklmnopqrst".to_string(),
                    "buvw".to_string(),
                    "klmo".to_string(),
                    "klmnoqrsuvwxy".to_string(),
                    "uvwy".to_string(),
                    "abcdeluvw".to_string(),
                    "klmnostuvwxy".to_string(),
                    "bceklmno".to_string(),
                    "fghijm".to_string(),
                    "defghijklmno".to_string(),
                    "ijklmno".to_string(),
                    "pqr".to_string(),
                    "abcduvw".to_string(),
                    "fghijklmnopqt".to_string(),
                    "hijklmno".to_string(),
                    "klmnoprsuvwxy".to_string(),
                    "aeklmno".to_string(),
                    "lo".to_string(),
                    "klmnouxy".to_string(),
                    "cdklmno".to_string(),
                    "fghijpr".to_string(),
                    "muvwxy".to_string(),
                    "lmnouvwxy".to_string(),
                    "abce".to_string(),
                    "kmnopqrst".to_string(),
                    "pt".to_string(),
                    "klmnoptuvwxy".to_string(),
                    "abde".to_string(),
                    "abcdeghiklmno".to_string(),
                    "klmnopqsuvwxy".to_string(),
                    "klmnouvx".to_string(),
                    "efghij".to_string(),
                    "klmnouwy".to_string(),
                    "bceklmnouvw".to_string(),
                    "klmnuvwxy".to_string(),
                    "ad".to_string(),
                    "klmnoux".to_string(),
                    "gjpqrst".to_string(),
                    "abcdegij".to_string(),
                    "fghijkpqrst".to_string(),
                    "fghijlmnopqrst".to_string(),
                    "abcdefj".to_string(),
                    "fghijklmnops".to_string(),
                    "fghijklmnoqs".to_string(),
                    "ghi".to_string(),
                    "fghijqst".to_string(),
                    "abcdemo".to_string(),
                    "abcdefghijkl".to_string(),
                    "fghklmnopqrst".to_string(),
                    "no".to_string(),
                    "klmnopqrstuwxy".to_string(),
                    "klmnopqrstvwx".to_string(),
                    "abcdeklmnou".to_string(),
                    "abdefghijklmno".to_string(),
                    "klmnopqrstxy".to_string(),
                    "acfghij".to_string(),
                    "pqrstuvwy".to_string(),
                    "kuvw".to_string(),
                    "abcdehi".to_string(),
                    "de".to_string(),
                    "fghijpq".to_string(),
                    "lmuvwxy".to_string(),
                    "abcdelmouvw".to_string(),
                    "abdfghij".to_string(),
                    "knuvwxy".to_string(),
                    "acde".to_string(),
                    "cuvw".to_string(),
                    "uw".to_string(),
                    "kmopqrstuvwxy".to_string(),
                    "abcfghij".to_string(),
                    "fghij".to_string(),
                    "abcdeklmo".to_string(),
                    "abcdehij".to_string(),
                    "abcdek".to_string(),
                    "fghijklmnoqrst".to_string(),
                    "pqrstvx".to_string(),
                    "klmnopqrstvx".to_string(),
                    "abc".to_string(),
                    "klmnoqrstuvwxy".to_string(),
                    "acklmnouvw".to_string(),
                    "afghijklmno".to_string(),
                    "abcdeklmnuvw".to_string(),
                    "abcdei".to_string(),
                    "fgiklmno".to_string(),
                    "klmnopqrstuvw".to_string(),
                    "abcklmnouvw".to_string(),
                    "abcdelmnuvw".to_string(),
                    "abcdehj".to_string(),
                    "abcdefghijlo".to_string(),
                    "fghpqrst".to_string(),
                    "acfghijklmno".to_string(),
                    "abcdeg".to_string(),
                    "klpqrst".to_string(),
                    "klmouvw".to_string(),
                    "bdfghijklmno".to_string(),
                    "aefghijklmno".to_string(),
                    "fijklmnopqrst".to_string(),
                    "fghijps".to_string(),
                    "fghijklnpqrst".to_string(),
                    "fghijklmnop".to_string(),
                    "fklmno".to_string(),
                    "klmnopqrstw".to_string(),
                    "abcdfghijklmno".to_string(),
                    "fj".to_string(),
                    "lnopqrst".to_string(),
                    "fghijkmpqrst".to_string(),
                    "fghijlnopqrst".to_string(),
                    "ux".to_string(),
                    "fgjklmno".to_string(),
                    "fghijklmnopqr".to_string(),
                    "abcdeghjklmno".to_string(),
                    "abcdefghijkmn".to_string(),
                    "abcdegiklmno".to_string(),
                    "abcdefiklmno".to_string(),
                    "acdeklmno".to_string(),
                    "klmnops".to_string(),
                    "fghijklmnopqrt".to_string(),
                    "fghijklmnoqt".to_string(),
                    "abcdegj".to_string(),
                    "acdklmno".to_string(),
                    "abcdeghi".to_string(),
                    "abcdelmuvw".to_string(),
                    "abcdefg".to_string(),
                    "fghijkl".to_string(),
                    "gjklmnopqrst".to_string(),
                    "hipqrst".to_string(),
                    "klmnopqstuvwxy".to_string(),
                    "lnuvw".to_string(),
                    "ghijpqrst".to_string(),
                    "pqrstuvwxy".to_string(),
                    "klmnovwx".to_string(),
                    "klmnoqstuvwxy".to_string(),
                    "bcklmnouvw".to_string(),
                    "abdeklmnouvw".to_string(),
                    "fghijklmnopq".to_string(),
                    "abcdefghijk".to_string(),
                    "abcdefghijklno".to_string(),
                    "fiklmnopqrst".to_string(),
                    "klmnopq".to_string(),
                    "npqrstuvwxy".to_string(),
                    "klmnopqrstwx".to_string(),
                    "abcdefi".to_string(),
                    "lpqrst".to_string(),
                    "ghijklmnopqrst".to_string(),
                    "bd".to_string(),
                    "bcuvw".to_string(),
                    "hjklmnopqrst".to_string(),
                    "adfghijklmno".to_string(),
                    "klmnosuvwxy".to_string(),
                    "louvwxy".to_string(),
                    "bce".to_string(),
                    "gpqrst".to_string(),
                    "fghijklmnot".to_string(),
                    "wy".to_string(),
                    "pqrstvwxy".to_string(),
                    "fghijkln".to_string(),
                    "lmouvw".to_string(),
                    "gi".to_string(),
                    "fghijn".to_string(),
                    "fhklmnopqrst".to_string(),
                    "ghj".to_string(),
                    "klpqrstuvwxy".to_string(),
                    "abcdefgklmno".to_string(),
                    "fghijlmo".to_string(),
                    "fghijo".to_string(),
                    "fhpqrst".to_string(),
                    "klmnoprs".to_string(),
                    "abcefghij".to_string(),
                    "abcdeklno".to_string(),
                    "abcdefghijlmno".to_string(),
                    "kmnpqrst".to_string(),
                    "fghijklmnoq".to_string(),
                    "abcdefhij".to_string(),
                    "fghijklmnopt".to_string(),
                    "klmnopt".to_string(),
                    "abcdefklmno".to_string(),
                    "abcdelno".to_string(),
                    "pqrstw".to_string(),
                    "fghijlopqrst".to_string(),
                    "bfghij".to_string(),
                    "abuvw".to_string(),
                    "abcdefghijln".to_string(),
                    "ac".to_string(),
                    "aefghij".to_string(),
                    "prs".to_string(),
                    "lmnopqrstuvwxy".to_string(),
                    "abcdefghijn".to_string(),
                    "klmnopqrstux".to_string(),
                    "luvw".to_string(),
                    "giklmno".to_string(),
                    "kpqrst".to_string(),
                    "jpqrst".to_string(),
                    "fghijrt".to_string(),
                    "fghijlo".to_string(),
                    "abcdefij".to_string(),
                    "fghijklmnorst".to_string(),
                    "fghijqrst".to_string(),
                    "tuvwxy".to_string(),
                    "fghijlmopqrst".to_string(),
                    "klmnouwxy".to_string(),
                    "bdeuvw".to_string(),
                    "fghijprt".to_string(),
                    "klmnoprst".to_string(),
                    "pqrstuvy".to_string(),
                    "fghijpqrt".to_string(),
                    "fgj".to_string(),
                    "pqrstvxy".to_string(),
                    "abdefghij".to_string(),
                    "abcdegh".to_string(),
                    "abefghij".to_string(),
                    "lno".to_string(),
                    "klmnopuvwxy".to_string(),
                    "klmnouvwxy".to_string(),
                    "fghijrst".to_string(),
                    "cd".to_string(),
                    "euvw".to_string(),
                    "hijpqrst".to_string(),
                    "pqrst".to_string(),
                    "klopqrst".to_string(),
                    "gijpqrst".to_string(),
                    "klmnopqrs".to_string(),
                    "fghijk".to_string(),
                    "klopqrstuvwxy".to_string(),
                    "rtuvwxy".to_string(),
                    "klmnorstuvwxy".to_string(),
                    "stuvwxy".to_string(),
                    "abcdevw".to_string(),
                    "cdefghijklmno".to_string(),
                    "bdeklmno".to_string(),
                    "pqstuvwxy".to_string(),
                    "fghipqrst".to_string(),
                    "fghijpst".to_string(),
                    "kmn".to_string(),
                    "mo".to_string(),
                    "abcdeuw".to_string(),
                    "qst".to_string(),
                    "fghijklmnost".to_string(),
                    "klnopqrst".to_string(),
                    "abcdekm".to_string(),
                    "abcdefgj".to_string(),
                    "klmnopqrstuvy".to_string(),
                    "kouvw".to_string(),
                    "abcdelmnouvw".to_string(),
                    "abefghijklmno".to_string(),
                    "fgipqrst".to_string(),
                    "klm".to_string(),
                    "klmnopstuvwxy".to_string(),
                    "abcdekmno".to_string(),
                    "fghijmno".to_string(),
                    "pqrstvw".to_string(),
                    "kmouvw".to_string(),
                    "cdeklmno".to_string(),
                    "st".to_string(),
                    "fij".to_string(),
                    "fhiklmno".to_string(),
                    "abcdefghklmno".to_string(),
                    "lmnuvwxy".to_string(),
                    "klmnovwy".to_string(),
                    "klmnow".to_string(),
                    "mnuvw".to_string(),
                    "fghijklmnpqrst".to_string(),
                    "klmnoxy".to_string(),
                    "fghklmno".to_string(),
                    "b".to_string(),
                    "lopqrst".to_string(),
                    "pqrstuvw".to_string(),
                    "abcdekmouvw".to_string(),
                    "abcdeklmnouw".to_string(),
                    "acduvw".to_string(),
                    "klmnoq".to_string(),
                    "bde".to_string(),
                    "pqrstxy".to_string(),
                    "qrs".to_string(),
                    "bcdeklmnouvw".to_string(),
                    "abcdekmo".to_string(),
                    "abcdefghijkn".to_string(),
                    "kno".to_string(),
                    "abcdefghijklm".to_string(),
                    "abcdefgij".to_string(),
                    "kmopqrst".to_string(),
                    "kmnuvwxy".to_string(),
                    "pqrstuvwx".to_string(),
                    "fghijkmn".to_string(),
                    "acdefghij".to_string(),
                    "fghijmn".to_string(),
                    "qr".to_string(),
                    "l".to_string(),
                    "kmnopqrstuvwxy".to_string(),
                    "abcdefghijl".to_string(),
                    "afghij".to_string(),
                    "auvw".to_string(),
                    "abcdew".to_string(),
                    "klmnopqrstwy".to_string(),
                    "adfghij".to_string(),
                    "abcdeghij".to_string(),
                    "lmopqrstuvwxy".to_string(),
                    "abcdefghijklmn".to_string(),
                    "uvx".to_string(),
                    "km".to_string(),
                    "abcdefijklmno".to_string(),
                    "abcdeij".to_string(),
                    "pq".to_string(),
                    "lnpqrst".to_string(),
                    "bdfghij".to_string(),
                    "abcdefhj".to_string(),
                    "mopqrstuvwxy".to_string(),
                    "fghijklmnopqs".to_string(),
                    "fghijqt".to_string(),
                    "ade".to_string(),
                    "abcdejklmno".to_string(),
                    "fghijklmpqrst".to_string(),
                    "pqrstuvxy".to_string(),
                    "mouvw".to_string(),
                    "mopqrst".to_string(),
                    "lmnopqrst".to_string(),
                    "abcdefhjklmno".to_string(),
                    "acdklmnouvw".to_string(),
                    "bcklmno".to_string(),
                    "nopqrst".to_string(),
                    "qrt".to_string(),
                    "fghijlmnpqrst".to_string(),
                    "pqrstuv".to_string(),
                    "klmnos".to_string(),
                    "pqrstwxy".to_string(),
                    "fgjklmnopqrst".to_string(),
                    "pqrstuw".to_string(),
                    "klmnopqrstuvxy".to_string(),
                    "fhijklmno".to_string(),
                    "abcdekmnuvw".to_string(),
                    "ghjklmno".to_string(),
                    "klmnoprtuvwxy".to_string(),
                    "abcdefghijlmn".to_string(),
                    "klmouvwxy".to_string(),
                    "abcdegjklmno".to_string(),
                    "p".to_string(),
                    "hiklmnopqrst".to_string(),
                    "rstuvwxy".to_string(),
                    "gh".to_string(),
                    "cdfghijklmno".to_string(),
                    "klmnou".to_string(),
                    "iklmno".to_string(),
                    "klmnopqrstvxy".to_string(),
                    "lmpqrstuvwxy".to_string(),
                    "prtuvwxy".to_string(),
                    "klmnovwxy".to_string(),
                    "pqst".to_string(),
                    "klmnortuvwxy".to_string(),
                    "lmnpqrstuvwxy".to_string(),
                    "fghijmpqrst".to_string(),
                    "ghiklmnopqrst".to_string(),
                    "klmpqrst".to_string(),
                    "klmnoprstuvwxy".to_string(),
                    "ghklmno".to_string(),
                    "fghijopqrst".to_string(),
                    "klmnoqruvwxy".to_string(),
                    "abcdeklmouvw".to_string(),
                    "ae".to_string(),
                    "abcfghijklmno".to_string(),
                    "vw".to_string(),
                    "fghijr".to_string(),
                    "kmnpqrstuvwxy".to_string(),
                    "fghijklpqrst".to_string(),
                    "vwxy".to_string(),
                    "uxy".to_string(),
                    "cklmnouvw".to_string(),
                    "abcdefghijkm".to_string(),
                    "uvw".to_string(),
                    "bcd".to_string(),
                    "bcefghij".to_string(),
                    "abcdeiklmno".to_string(),
                    "klmnot".to_string(),
                    "cduvw".to_string(),
                    "fghijmo".to_string(),
                    "eklmnouvw".to_string(),
                    "klmnopqrstuwy".to_string(),
                    "kmnuvw".to_string(),
                    "lmouvwxy".to_string(),
                    "abcdefghijlmo".to_string(),
                    "cefghij".to_string(),
                    "klmnoqs".to_string(),
                    "klmnouwx".to_string(),
                    "kmuvwxy".to_string(),
                    "ceklmnouvw".to_string(),
                    "fghijklmnoqrs".to_string(),
                    "abduvw".to_string(),
                    "abceklmno".to_string(),
                    "ghijklmno".to_string(),
                    "abcdefghijmn".to_string(),
                    "bcdfghij".to_string(),
                    "pqrstvwx".to_string(),
                    "fghijlpqrst".to_string(),
                    "gijklmnopqrst".to_string(),
                    "abcdelnuvw".to_string(),
                    "pqrstvwy".to_string(),
                    "pr".to_string(),
                    "fghijklmnos".to_string(),
                    "c".to_string(),
                    "fghijklmno".to_string(),
                    "abcdefghijkmno".to_string(),
                    "abcuvw".to_string(),
                    "abcdev".to_string(),
                    "abeuvw".to_string(),
                    "pqrstuvx".to_string(),
                    "klo".to_string(),
                    "fghijln".to_string(),
                    "klmnpqrstuvwxy".to_string(),
                    "abcdefghijlno".to_string(),
                    "fghijklmnopst".to_string(),
                    "acd".to_string(),
                    "gipqrst".to_string(),
                    "w".to_string(),
                    "abcdenuvw".to_string(),
                    "deuvw".to_string(),
                    "abcdeklmnouvw".to_string(),
                    "fg".to_string(),
                    "cdeuvw".to_string(),
                    "lmnuvw".to_string(),
                    "abcdenouvw".to_string(),
                    "klmnoqt".to_string(),
                    "hklmnopqrst".to_string(),
                    "klmnouvwy".to_string(),
                    "gijklmno".to_string(),
                    "klmnopqrst".to_string(),
                    "fghijmopqrst".to_string(),
                    "kmno".to_string(),
                    "f".to_string(),
                    "uv".to_string(),
                    "fhij".to_string(),
                    "knuvw".to_string(),
                    "klmnor".to_string(),
                    "klnouvwxy".to_string(),
                    "bcdeuvw".to_string(),
                    "bdklmno".to_string(),
                    "abklmnouvw".to_string(),
                    "abcdehjklmno".to_string(),
                    "bcde".to_string(),
                    "fghijklmo".to_string(),
                    "abcdefghijklmo".to_string(),
                    "ko".to_string(),
                    "abcdeklmuvw".to_string(),
                    "bcdefghijklmno".to_string(),
                    "beuvw".to_string(),
                    "qstuvwxy".to_string(),
                    "aeklmnouvw".to_string(),
                    "h".to_string(),
                    "t".to_string(),
                    "kmuvw".to_string(),
                    "fhi".to_string(),
                    "fjklmnopqrst".to_string(),
                    "hiklmno".to_string(),
                    "fhipqrst".to_string(),
                    "qrtuvwxy".to_string(),
                    "abcdeklnuvw".to_string(),
                    "fghijqrt".to_string(),
                    "pqrstx".to_string(),
                    "bdefghijklmno".to_string(),
                    "gj".to_string(),
                    "abcdelmno".to_string(),
                    "abcdefjklmno".to_string(),
                    "fhjpqrst".to_string(),
                    "klnpqrst".to_string(),
                    "fgijklmnopqrst".to_string(),
                    "abcdelm".to_string(),
                    "fghijrs".to_string(),
                    "klmnouw".to_string(),
                    "fhklmno".to_string(),
                    "abcdeln".to_string(),
                    "fgijpqrst".to_string(),
                    "fghijklmnoqst".to_string(),
                    "abeklmnouvw".to_string(),
                    "klmuvw".to_string(),
                    "i".to_string(),
                ],
                15,
            ),
        ]
    }

    use super::Solution;

    #[test]
    fn test_longest_str_chain() {
        for (words, want) in testcases() {
            assert_eq!(Solution::longest_str_chain(words), want);
        }
    }
}
